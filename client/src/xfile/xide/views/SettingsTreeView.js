//>>built
define("xide/views/SettingsTreeView",["dojo/_base/declare","dojo/on","xide/layout/ContentPane","xide/utils"],function(d,e,f,b){return d("xide.views.SettingsTreeView",[f],{onSettingsViewClosed:function(a){if(a){var c=dijit.byId("topTabs");a.empty();c.removeChild(a);b.destroyWidget(a);currentSettingsView=null}},openSettingsView:function(a){var c=dijit.byId("topTabs");a="metaSettinsView"+a.id;if(this.currentSettingsView=dijit.byId(a))this.currentSettingsView.empty(),c.removeChild(this.currentSettingsView),
b.destroyWidgetById(a);this.currentSettingsView=new xas.views.GroupedMetaSettingsView({id:a,title:"Meta Settings",region:"center",closable:!0,delegate:this,className:"groupedResourceSettingsView"},dojo.doc.createElement("div"));c.addChild(this.currentSettingsView);c.selectChild(this.currentSettingsView);this.currentSettingsView.initWithMetaDataStore(this.metaStore)},onTreeClicked:function(a,c){"MetaSettings"==b.toString(a.type)&&(this.currentResourceItem=a,this.openSettingsView(a))},_defaultTree:function(){return{id:"1",
identifier:"id",label:"name",items:[{children:[{_reference:"41f2455e-59e9-430a-949a-e2181bd183d8"}],id:"ROOT",label:null,name:"Settings",path:null,section:null,type:"top",uid:0,uidStr:null},{children:[],id:"41f2455e-59e9-430a-949a-e2181bd183d8",label:null,name:"Common",type:"MetaSettings",noChildren:!0},{children:[],id:"f0e9f360-5dce-468f-a982-c7c059d0ae14",label:null,name:"Application",type:"Resources"}]}},initWidgets:function(a){a=this._defaultTree();this.store=new dojo.data.ItemFileWriteStore({data:a,
labelAttribute:"name"});this.model=new dijit.tree.ForestStoreModel({store:this.store,rootId:"ROOT",rootLabel:"Resources",query:{type:"top"},childrenAttrs:["children"]});this.tree=new dijit.Tree({showRoot:!1,model:this.model,persist:!1,className:"container"});var c=this;dojo.connect(this.tree,"onClick",function(a,b){c.onTreeClicked(a,b)});this.domNode.appendChild(this.tree.domNode);this.tree.startup();this.tree.resize();var b=this.tree.rootNode;setTimeout(function(){b.getChildren();var a=b.getChildren()[0];
a&&e.emit(a.expandoNode,"click",{bubbles:!0})},300);this.model&&(this.model.mayHaveChildren=function(a){return a&&null!=a.noChildren?!1:!0})},resourceTreeDataReady:function(a,c){a.resourceTreeData=b.removeEmptyStrings(c);a.tree&&b.destroyWidget(a.tree);a.initWidgets(a.resourceTreeData)},init:function(a){},startup:function(){this.didLoad||(this.inherited(arguments),this.didLoad=!0)}})});
//# sourceMappingURL=SettingsTreeView.js.map